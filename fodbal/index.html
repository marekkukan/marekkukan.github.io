<!DOCTYPE html>
<html>
<head>
<title>Fodbal</title>
<link rel="icon" href="icon192.png">
<meta name="theme-color" content="#665646">
<link rel="manifest" href="manifest.json">
<link rel="apple-touch-icon" href="icon192.png">
<link rel="stylesheet" href="index.css" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>

<div id="versionDiv" style="position: fixed; top: 1vmin; right: 1vmin; font-family: monospace;">v1.2.0</div>

<div id="menuDiv">
  <button onclick="this.parentElement.querySelector('.active').classList.remove('active'); this.classList.add('active'); displayGraph('2014')">2013-14</button>
  <button onclick="this.parentElement.querySelector('.active').classList.remove('active'); this.classList.add('active'); displayGraph('2015')">2014-15</button>
  <button onclick="this.parentElement.querySelector('.active').classList.remove('active'); this.classList.add('active'); displayGraph('2016')">2015-16</button>
  <button onclick="this.parentElement.querySelector('.active').classList.remove('active'); this.classList.add('active'); displayGraph('2017')">2016-17</button>
  <button onclick="this.parentElement.querySelector('.active').classList.remove('active'); this.classList.add('active'); displayGraph('2018')">2017-18</button>
  <button onclick="this.parentElement.querySelector('.active').classList.remove('active'); this.classList.add('active'); displayGraph('2019')">2018-19</button>
  <button onclick="this.parentElement.querySelector('.active').classList.remove('active'); this.classList.add('active'); displayGraph('2020')">2019-20</button>
  <button onclick="this.parentElement.querySelector('.active').classList.remove('active'); this.classList.add('active'); displayGraph('2021')">2020-21</button>
  <button onclick="this.parentElement.querySelector('.active').classList.remove('active'); this.classList.add('active'); displayGraph('2022')">2021-22</button>
  <button onclick="this.parentElement.querySelector('.active').classList.remove('active'); this.classList.add('active'); displayGraph('2023')" class="active">2022-23</button>
  <button onclick="location.reload()">‚ü≥</button>
  <div onclick="popup('changelogDiv')"></div>
</div>

<div id="myWrapper">
  <div id="myPlot"></div>
  <div id="myApp">
    <div id="myAppLeft">
      <div id="filterDiv">
        <h4>vyber hracov:</h4>
        <label><input id="filterAll"         type="radio" name="radioFilter" oninput="setFilter(this.id)">vsetkych</label><br>
        <label><input id="filterQualified"   type="radio" name="radioFilter" oninput="setFilter(this.id)">vsetkych co maju aspon 6 zapasov</label><br>
        <label><input id="filterRegulars"    type="radio" name="radioFilter" oninput="setFilter(this.id)" checked>stalych</label><br>
        <label><input id="filterSubstitutes" type="radio" name="radioFilter" oninput="setFilter(this.id)">nahradnikov</label><br>
      </div>
      <div id="playersDiv">
        <h4>zoznam hracov: (vybratych: <span id="checkedPlayersNumber"></span>)</h4>
        <ul id="playersList"></ul>
      </div>
    </div>
    <div id="myAppRight">
      <div id="priorityDiv">
        <h4>vyber kriterium:</h4>
        <label><input id="priority1" type="radio" name="radioPriority" oninput="setPriority(this.id)">zapasove body</label><br>
        <label><input id="priority2" type="radio" name="radioPriority" oninput="setPriority(this.id)">kanadske body</label><br>
        <label><input id="priority3" type="radio" name="radioPriority" oninput="setPriority(this.id)" checked>oboje</label><br>
        <br>
        <label><input id="evenSubstitutes" type="checkbox" oninput="setEvenSubstitutes(this.checked)" checked>podel rovnomerne nahradnikov</label><br>
      </div>
      <button id="createOptimalTeamsButton" disabled onclick="createOptimalTeams()">vytvor optimalne timy</button>
      <div id="teamsDiv" style="display: none;">
        <table id="teamsTable"></table>
      </div>
    </div>
  </div>
</div>

<div id="popupContainer" style="display: none;">
  <div id="changelogDiv" style="display: none;" onclick="event.stopPropagation()" class="log">
    <h1 onclick="this.parentElement.style.display='none'; document.getElementById('debuglogDiv').style.display='block';">changelog</h1>
    <h4>v1.2.0 [2022-11-21]</h4>
    <ul>
      <li>changed default season to 2022-23</li>
      <li>team "bieli" is now always the stronger team</li>
    </ul>
    <h4>v1.1.0 [2022-09-19]</h4>
    <ul>
      <li>added season 2022-23</li>
      <li>marker size reflects number of games</li>
    </ul>
    <h4>v1.0.0 [2022-07-05]</h4>
    <ul>
      <li>added button for creating optimal teams</li>
      <li>added several options to (de)select players</li>
      <li>red markers for regular (non-substitute) players</li>
    </ul>
    <h4>v0.1.0 [2022-06-28]</h4>
    <ul>
      <li>first version</li>
    </ul>
  </div>
  <div id="debuglogDiv" style="display: none;" onclick="event.stopPropagation()" class="log">
    <h1 onclick="this.parentElement.style.display='none'; document.getElementById('changelogDiv').style.display='block';">debuglog</h1>
  </div>
</div>

<script src="index.js"></script>

<script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('sw.js').then(() => { console.log('SW Registered'); });
}
</script>
</body>
</html>
